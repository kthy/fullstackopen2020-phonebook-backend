{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Button.js","components/Person.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","onSubmit","nameValue","onNameChange","numberValue","onNumberChange","type","Button","whenClicked","label","onClick","Person","personObj","name","number","Persons","persons","del","map","p","key","id","Notification","message","isError","baseStyle","padding","border","fontSize","errorStyle","color","fontWeight","normalStyle","fontStyle","style","baseUrl","axios","get","then","response","data","newObject","post","delete","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","nameFilter","setNameFilter","notificationMessage","setNotificationMessage","notificationIsError","setNotificationIsError","useEffect","personSvc","ps","personsToShow","filter","toLowerCase","indexOf","event","target","preventDefault","existingPerson","find","window","confirm","updatedPerson","person","setTimeout","catch","err","concat","_","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a10cbbb3.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={value} onChange={onChange} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ onSubmit, nameValue, onNameChange, numberValue, onNumberChange }) => {\r\n  return (\r\n    <form onSubmit={onSubmit}>\r\n      <div>\r\n        name: <input value={nameValue} onChange={onNameChange} />\r\n      </div>\r\n      <div>\r\n        number: <input value={numberValue} onChange={onNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Button = ({whenClicked, label}) => <button onClick={whenClicked}>{label}</button>\r\n\r\nexport default Button\r\n","import React from 'react'\r\n\r\nconst Person = ({ personObj }) => <span>{personObj.name} {personObj.number}</span>\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Button from './Button'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, del }) => persons.map(p => {\r\n  return (\r\n    <div key={p.id}>\r\n      <Person personObj={p} /> <Button whenClicked={() => del(p)} label=\"delete\" />\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, isError }) => {\r\n  if (!message) {\r\n    return null\r\n  }\r\n\r\n  const baseStyle = {\r\n    padding: 12,\r\n    border: '2px solid black',\r\n    fontSize: 16\r\n  }\r\n\r\n  const errorStyle = {\r\n    ...baseStyle,\r\n    color: 'red',\r\n    fontWeight: 'bold'\r\n  }\r\n\r\n  const normalStyle = {\r\n    ...baseStyle,\r\n    color: 'green',\r\n    fontStyle: 'italic'\r\n  }\r\n\r\n  return (\r\n    <div style={isError ? errorStyle : normalStyle}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst dellete = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, dellete, update }\r\n","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personSvc from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('+45 ')\n  const [ nameFilter, setNameFilter ] = useState('A')\n\n  const [ notificationMessage, setNotificationMessage ] = useState('')\n  const [ notificationIsError, setNotificationIsError ] = useState(false)\n\n  const getAllPersons = () => {\n    personSvc\n      .getAll()\n      .then(ps => setPersons(ps))\n  }\n\n  useEffect(getAllPersons, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const existingPerson = persons.find(p => p.name === newName)\n    if (existingPerson) {\n      if (window.confirm(`${newName} is already in the phonebook - replace the old number with a new one?`)) {\n        personSvc\n          .update(existingPerson.id, { ...existingPerson, number: newNumber })\n          .then(updatedPerson => {\n            setPersons(persons.map(person => person.id !== existingPerson.id ? person : updatedPerson))\n            setNotificationIsError(false)\n            setNotificationMessage(`Updated ${newName}`)\n            setTimeout(() => setNotificationMessage(null), 5000)\n            setNewName('')\n            setNewNumber('+45 ')\n          })\n          .catch(err => {\n            setNotificationIsError(true)\n            setNotificationMessage(`Error updating ${newName}`)\n            setTimeout(() => setNotificationMessage(null), 5000)\n          })\n      }\n    } else {\n      const personObj = {\n        name: newName,\n        number: newNumber,\n      }\n\n      personSvc\n        .create(personObj)\n        .then(p => {\n          setPersons(persons.concat(p))\n          setNotificationIsError(false)\n          setNotificationMessage(`Added ${newName}`)\n          setTimeout(() => setNotificationMessage(null), 5000)\n          setNewName('')\n          setNewNumber('+45 ')\n        })\n    }\n  }\n\n  const deletePerson = (person) => {\n    if (window.confirm(`Delete ${person.name}?`)) {\n      personSvc\n        .dellete(person.id)\n        .then(_ => setPersons(persons.filter(p => p.id !== person.id)))\n        .catch(err => {\n          setNotificationIsError(true)\n          setNotificationMessage(`Error deleting ${person.name}`)\n          setTimeout(() => setNotificationMessage(null), 5000)\n        })\n    }\n  }\n\n  const handleFilterChange = (event) => setNameFilter(event.target.value)\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n\n  const personsToShow = nameFilter\n    ? persons.filter(p => p.name.toLowerCase().indexOf(nameFilter.toLowerCase()) >= 0)\n    : persons\n\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <Notification message={notificationMessage} isError={notificationIsError} />\n      <Filter value={nameFilter} onChange={handleFilterChange} />\n\n      <h2>Add a new</h2>\n      <PersonForm\n        onSubmit={addPerson}\n        nameValue={newName}\n        onNameChange={handleNameChange}\n        numberValue={newNumber}\n        onNumberChange={handleNumberChange} />\n\n      <h2>Numbers</h2>\n      <Persons persons={personsToShow} del={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}